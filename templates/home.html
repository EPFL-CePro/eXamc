{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}

     {% if user.is_authenticated %}
        <div class="jumbotron text-center">
            <h1>eXamc</h1>
            {{ user }}
            <h5>Welcome {{ user.first_name }} {{ user.last_name }}</h5>
            <h5>Please select an exam from the top left button to start !</h5>
            {% if user.is_superuser %}
            <hr/>
            <h5 style="margin-top:100px;">Users last connection</h5>
            <table class="table table-striped table-sm" style="width:450px;margin-left:calc((100vw - 800px)/2);">
                <thead style="display:block">
                <tr>
                    <th style="width:200px;">Username</th>
                    <th style="width:250px;">Last connection</th>
                </tr>
                </thead>
                <tbody style="display:block;height:50vh;;overflow-y:auto;">
                {% for lcuser in last_connection_users %}
                    <tr>
                        <td style="width:200px;">{{ lcuser.username }}</td>
                        <td style="width:250px">{{ lcuser.last_login }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            {% endif %}
        </div>
     {% else %}

        <div class="jumbotron text-center">
            <h1>EXAMS-Stats</h1>
            <a type="button" class="btn btn-dark" href="{% url 'oidc_authentication_init' %}">EPFL(Entra ID) login</a>
            <a type="button" class="btn btn-dark" href="{% url 'login_form' %}">login</a>
            <br>
            <br>
            <a type="button" class="btn btn-dark" href="/generate_room_plan">Room plan</a>


        </div>

     {% endif %}

{% endblock %}
